<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.0/font/bootstrap-icons.css">
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/themes/material_orange.css"> <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script src="https://npmcdn.com/flatpickr/dist/l10n/th.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <?!= include('Stylesheet'); ?>
  </head>
  <body>

    <div id="page-add" class="container page-section active">
      <div class="card">
        <h2>üç≥ ‡∏ö‡∏±‡∏ç‡∏ä‡∏µ‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏Ç‡πà</h2>
        <form id="myForm" onsubmit="handleFormSubmit(this)">
          <div class="d-flex justify-content-center mb-3">
            <input type="radio" class="btn-check" name="type" id="income" value="‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö" autocomplete="off" checked>
            <label class="btn btn-outline-primary me-2 rounded-pill px-4" for="income">‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö üí∞</label>
            <input type="radio" class="btn-check" name="type" id="expense" value="‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢" autocomplete="off">
            <label class="btn btn-outline-danger rounded-pill px-4" for="expense">‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢ üí∏</label>
          </div>
          <div class="mb-3">
            <label class="form-label">‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</label>
            <input type="text" class="form-control" name="date" required id="datePicker" placeholder="‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà">
          </div>
          <div class="mb-3">
            <label class="form-label">‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á/‡∏´‡∏°‡∏ß‡∏î‡∏´‡∏°‡∏π‡πà</label>
            <select class="form-select" name="category">
              <optgroup label="üí∞ ‡∏ä‡πà‡∏≠‡∏á‡∏ó‡∏≤‡∏á‡∏£‡∏≤‡∏¢‡∏£‡∏±‡∏ö">
                <option value="Home (BBL)">üè† Home (BBL)</option>
                <option value="Lineman (Kbank)">üíö Lineman (Kbank)</option>
                <option value="Shopee (TTB)">üß° Shopee (TTB)</option>
                <option value="Grab (Kbank)">üõµ Grab (Kbank)</option>
              </optgroup>
              <optgroup label="üí∏ ‡∏£‡∏≤‡∏¢‡∏à‡πà‡∏≤‡∏¢">
                 <option value="‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö (‡∏ó‡∏∏‡∏ô)">ü•ö ‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏î‡∏¥‡∏ö (‡∏ó‡∏∏‡∏ô)</option>
                 <option value="‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ">üßæ ‡∏Ñ‡πà‡∏≤‡πÉ‡∏ä‡πâ‡∏à‡πà‡∏≤‡∏¢‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ</option>
              </optgroup>
            </select>
          </div>
          <div class="mb-3">
            <label class="form-label">‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°</label>
            <input type="text" class="form-control" name="detail" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏Ñ‡πà‡∏≤‡πÑ‡∏Ç‡πà‡πÑ‡∏Å‡πà 3 ‡πÅ‡∏ú‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÄ‡∏ä‡πâ‡∏≤">
          </div>
          <div class="mb-4">
            <label class="form-label">‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡πÄ‡∏á‡∏¥‡∏ô</label>
            <input type="number" class="form-control" name="amount" placeholder="0.00" required inputmode="decimal">
          </div>
          <button type="submit" class="btn btn-save">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£ üç≥</button>
          <div id="message" class="mt-3 text-center" style="display:none; color:#F39C12; font-weight:bold;"></div>
        </form>
      </div>
    </div>

    <div id="page-stats" class="container page-section">
      <div class="card">
        <h4>üìä ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î‡∏£‡πâ‡∏≤‡∏ô</h4>
        <div class="row g-2 mb-3">
          <div class="col-4">
            <div class="summary-box bg-income">
              <small>‡∏¢‡∏≠‡∏î‡∏Ç‡∏≤‡∏¢</small><br><span id="totalIncome">0</span>
            </div>
          </div>
          <div class="col-4">
            <div class="summary-box bg-expense">
              <small>‡∏ï‡πâ‡∏ô‡∏ó‡∏∏‡∏ô</small><br><span id="totalExpense">0</span>
            </div>
          </div>
          <div class="col-4">
            <div class="summary-box bg-balance">
              <small>‡∏Å‡∏≥‡πÑ‡∏£</small><br><span id="totalBalance">0</span>
            </div>
          </div>
        </div>
        <div style="position: relative; height:250px; width:100%; margin-bottom:20px;">
          <canvas id="expenseChart"></canvas>
        </div>
        <h6 class="text-muted mt-3">üìù ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h6>
        <ul class="list-group list-group-flush" id="recentList" style="font-size: 0.9rem;"></ul>
        <button onclick="loadDashboard()" class="btn btn-sm btn-outline-secondary mt-3 rounded-pill w-100">üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      </div>
    </div>

    <div class="bottom-nav">
      <div class="nav-item active" onclick="switchPage('page-add', this)">
        <i class="bi bi-plus-circle-fill"></i><span>‡∏à‡∏î‡∏ö‡∏¥‡∏•</span>
      </div>
      <div class="nav-item" onclick="switchPage('page-stats', this)">
        <i class="bi bi-pie-chart-fill"></i><span>‡∏î‡∏π‡∏¢‡∏≠‡∏î</span>
      </div>
    </div>

    <?!= include('JavaScript'); ?>
  </body>
</html>
